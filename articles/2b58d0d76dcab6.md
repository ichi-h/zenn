---
title: "弊社エンジニア全員で『リーダブルコード』を読み「理解しやすいコード」を再定義した"
emoji: "⛳"
publication_name: "wizleap_tech"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["リーダブルコード"]
published: false
---

## はじめに - 本稿の目的

**『リーダブルコード』** といえば、プログラミングをやったことのある人であれば一度は耳にしたことがあり、また読んだことのある人も多いのではないでしょうか。

この本ではアーキテクチャやデザインパターンといったコードの設計面ではなく、例えば変数名やコメントアウトといった、プログラミングの基本的なお作法というアプローチから、**「理解しやすいコード」「読みやすいコード」「優れたコード」とはどういったものなのか** を考察しています。

基礎・基本というものは非常に重要で、「砂上の楼閣」という言葉の通り、基礎がなければ上には何も積み上げることができません。  
リーダブルコードはまさに、**プログラミングにおける基礎・基本とは何かを教えてくれる本** です。

そこで弊社では、エンジニアほぼ全員参加のリーダブルコード読書会を開き、プログラミングの基礎・基本を改めて学び直しました。  
またそれだけではなく、自分たちでもっとリーダブルコードを発展させていき、「理解しやすいコード」を再定義できるように議論しました。  
本稿では、その **「再定義した理解しやすいコード」** についてお話いたします。

本稿では **「命名」「コメントアウト」「制御フロー」「変数」「単一責任原則」** という5つの視点から「理解しやすいコード」を解析します。  
リーダブルコードの解説記事ではございませんので、その点はご承知おきください。

## 命名

### 結論

- **目的を明確に把握できる命名は理解しやすい。**
- **適切に設計されたコードは、理解しやすい命名を生み出す。**

### 目的が明確に把握できる命名

例えば、何かしらのUseCaseのクラスを作成した場合、自分たちのプロジェクトでは必ず動詞+目的語を含めるというルールで命名を行っています。  
その理由は、UseCaseとは端的に言えばアプリケーションとしての1つの機能であり、そして変更する頻度が高い項目であるので、

- 解決する対象は何か
- なにをしてその問題を解決するか

を明確にし、**そのUseCaseが何を目的としたクラスなのかを命名から1発で把握できるようにしたい** という意図があります。

### 共通の特徴がある層に属するクラスの命名はやりやすい

UseCaseのように何かしらの層があるということは、基本的にその層の中に何かしらの共通の役割や特徴を持ったクラスがそこに集められています。  
なので、その共通部分に着目すれば命名に規則性・ルールを持たせやすくなります。

ルールというのは言い換えれば **秩序** で、そのルールに乗っかれば一定ラインの命名の品質を保証してくれます。  
また、ルールがあればレビューの基準にもなりますので、主観的なコードの良し悪しの判断を減らすことができます。

命名についてアレコレと頭を悩ませるのではなく、**ルールを設けて不要な思考を制限する** ことで、レビュアー・レビュイー双方が効率的に作業を進めることができます。

### 命名のルール付けが難しいクラス

しかし、常に命名がルールに乗っかれるとは限りません。

例えばある層が、**他の層の役割に合致せず、溢れたものを拾う受け皿的な層** であった場合はどうでしょうか？  
それは例えばUtilやServiceといった、言ってしまえば「なんでも入ってしまうディレクトリ」がそれに該当します。  
こうした層の場合、各クラスに本質的な繋がりがあるわけではないので、良い命名の基準となるようなルールを構築することが難しいです。

またさらに、例えば何かしらのリソースに対してCRUD操作を行えるような、**1つのクラスで複数の振る舞いを外側に公開するようなクラスの命名** も難しいです。  
それらの振る舞いをすべて説明できるような命名ができれば良いですが、これもルールや法則があるわけではないので、常に良い命名ができるとは限りません。

こうした、ルールで解決しにくいクラスの命名はどうすれば良いのでしょうか？

### 優れた設計が良い命名を生み出す

こういう場合は発想を変えます。

**「そもそも、命名しにくいコードを書いているのが問題なんじゃないか……？」**

UtilやServiceにクラスを追加する前に、そのクラスをそこに置くべきなのか、適切な置き場はないのか、そもそもクラスとして切って良いのかなど、そうしたクラスの設計を疑います。

また、複数の振る舞いを持つようなクラスに対しては、そもそも複数の振る舞いを持つようなクラスが適切なのかと、根本から疑います。

**おおよそ命名が苦しいときは、そのコードの目的が何かを明確に定義付けできないときです。**

そのクラスによってどんな問題が解決されるのか？　何を実現したいのか？  
そうした目的ベースでクラスを設計していくことで、自然と命名しやすいコードになっていくと考えます。

理解しやすい命名を考えるのではなく、**目的が明確化される優れた設計から理解しやすい命名が生まれてくる** のです。

## コメント

### 結論

- **ドメインに紐づくコメントは、コードの理解を助ける。**

### よくないコメントの例

#### コードを読めばわかる内容は書かない

#### 処理内容をそのままコメントにしない

### ドメインに紐づくコメントを残す

## 制御フロー

### 結論

- **ネストが浅いコードは理解しやすい。**

## 変数

### 結論

- **変数のスコープは狭いほうが理解しやすい。**
- **変数を極力使わないコードは理解しやすい。**

## 単一責任原則

### 結論

- **単一責任原則に則ったコードは理解しやすい。**

## まとめ
